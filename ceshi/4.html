<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=IR4HN51YApGRLGDktlBNnFIDGApQdWQN"></script>
<body>
    <a href="" class="a">高德地图</a>
    <br>
    <p>------------------</p>
    <a href="" class="b">百度地图</a>
    <br>
    <p>-----------------------</p>
    <a href="" class="c">腾讯地图</a>
    <div id="allmap"></div>
    <script>
        	// 百度地图API功能
                var map = new BMap.Map("allmap");
                var point = new BMap.Point(116.331398, 39.897445);
                map.centerAndZoom(point, 12);

                var geolocation = new BMap.Geolocation();
                geolocation.getCurrentPosition(function (r) {
                    if (this.getStatus() == BMAP_STATUS_SUCCESS) {
                        var mk = new BMap.Marker(r.point);
                        map.addOverlay(mk);
                        map.panTo(r.point);
                        console.log(11111111111111)
                        alert('您的位置：' + r.point.lng + ',' + r.point.lat);
                        var lng = r.point.lng;
                        var lat = r.point.lat;
                        var aa = document.querySelector('.a');
                            var bb = document.querySelector('.b');
                            var cc = document.querySelector('.c');
                            aa.href = 'http://m.amap.com/navigation/index/carmap/saddr=' + lng + '%2C' + lat + '%2C我的位置&daddr=112.721939%2C28.236365%2C贝拉小镇';
                            bb.href = 'https://map.baidu.com/mobile/webapp/place/linesearch/foo=bar/end=word=贝拉小镇&tab=line?third_party=lbscomponents';
                            cc.href = 'http://map.qq.com/m/index/nav/type=bus&cond=3&sword=我的位置&spointx=' + lng + '&spointy=' + lat + '&eword=贝拉小镇&epointx=112.95451&epointy=28.22297&startId=&destId=6527512162143693059&canclebutton=';
                    }
                    else {
                        alert('failed' + this.getStatus());
                    }
                }, { enableHighAccuracy: true })
    </script>
</body>
</html>